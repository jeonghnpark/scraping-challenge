(function(a){'use strict';function b(a,b){if('/'===a.charAt(0)&&(a=a.slice(1)),'.'!==a.charAt(0))return a;for(var c=a.split('/');'.'===c[0]||'..'===c[0];)'..'===c.shift()&&b.pop();return b.concat(c).join('/')}function c(a){var b=k[a];return b&&!j[a]&&(j[a]=!0,b.execute()),b&&b.proxy}function d(a){return l[a]||c(a)}function e(a,b){var c=document.createElement('script');c.async&&(c.async=!1),i?c.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&(this.onreadystatechange=null,b())}:c.onload=c.onerror=b,c.setAttribute('src',a),h.appendChild(c)}function f(a){return new Promise(function(b,c){e((m.baseURL||'/')+a+'.js',function(){g&&(m.register(a,g[0],g[1]),g=void 0);var d=k[a];return d?void Promise.all(d.deps.map(function(a){return l[a]||k[a]?Promise.resolve():f(a)})).then(b,c):void c(new Error('Error loading module '+a))})})}var g,h=document.getElementsByTagName('head')[0],i=/MSIE/.test(navigator.userAgent),j=Object.create(null),k=Object.create(null),l=Object.create(null),m={set:function(a,b){l[a]=b},get:d,has:function(a){return!!l[a]||!!k[a]},import:function(a){var c=b(a,[]),e=d(c);return e?Promise.resolve(e):f(a).then(function(){return d(c)})},meta:k,register:function(a,c,e){if(Array.isArray(a))return g=[],void g.push.apply(g,arguments);var f,h,i=Object.create(null),j=Object.create(null);k[a]=f={proxy:i,values:j,deps:c.map(function(c){return b(c,a.split('/').slice(0,-1))}),dependants:[],update:function(a,b){h.setters[f.deps.indexOf(a)](b)},execute:function(){f.deps.map(function(b){var c=l[b];c?f.update(b,c):(c=d(b)&&k[b].values,c&&(k[b].dependants.push(a),f.update(b,c)))}),h.execute()}},h=e(function(b,c){return j[b]=c,f.lock=!0,f.dependants.forEach(function(b){k[b]&&!k[b].lock&&k[b].update(a,j)}),f.lock=!1,Object.getOwnPropertyDescriptor(i,b)||Object.defineProperty(i,b,{enumerable:!0,get:function(){return j[b]}}),c})}};a.System=m})(window);